<input type="text" id="searchBox" placeholder="搜索文章或标签...">
<ul id="results"></ul>

<script>
  const posts = [
    {% for post in site.posts %}
      {
        "title": "{{ post.title | escape }}",
        "url": "{{ post.url | relative_url }}",
        "tags": [{% for tag in post.tags %}"{{ tag }}"{% unless forloop.last %}, {% endunless %}{% endfor %}]
      }{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ];

  document.getElementById('searchBox').addEventListener('input', function(e) {
    const query = e.target.value.toLowerCase();
    const results = posts.filter(p =>
      p.title.toLowerCase().includes(query) ||
      p.tags.some(t => t.toLowerCase().includes(query))
    );
    document.getElementById('results').innerHTML =
      results.map(r => `<li><a href="${r.url}">${r.title}</a></li>`).join('');
  });
</script>
